<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/pr-preview/pr-2/favicon.ico"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.6.2"><title>OSSI@Janelia</title><style is:global>
  :root {
    --font-sans: "Inter Variable";
    --font-serif: var(--font-sans);
    --font-heading: var(--font-sans);

    /* --color-primary: rgb(30 64 175); */
    --color-primary: rgb(5 141 150);
    /* --color-secondary: rgb(30 58 138); */
    --color-secondary: rgb(0 164 80);
    /* --color-accent: rgb(109 40 217); */
    --color-accent: rgb(63 194 205);

    --color-text-heading: rgb(0 0 0);
    --color-text-default: rgb(16 16 16);
    --color-text-muted: rgb(16 16 16 / 66%);

    --color-bg-page: rgb(255 255 255);
    --color-bg-page-dark: rgb(3 6 32);

    /* default color - this is dynamically updated by handleTagSelection */
    --color-bg-selected-tag: var(--color-primary);
  }

  .dark {
    --font-sans: "Inter Variable";
    --font-serif: var(--font-sans);
    --font-heading: var(--font-sans);

    /* --color-primary: rgb(30 64 175); */
    --color-primary: rgb(5 141 150);
    /* --color-secondary: rgb(30 58 138); */
    --color-secondary: rgb(0 164 80);
    /* --color-accent: rgb(109 40 217); */
    --color-accent: rgb(63 194 205);

    --color-text-heading: rgb(0 0 0);
    --color-text-default: rgb(229 236 246);
    --color-text-muted: rgb(229 236 246 / 66%);

    --color-bg-page: var(--color-bg-page-dark);

    /* default color - this is dynamically updated by handleTagSelection */
    --color-bg-selected-tag: var(--color-primary);
  }
</style><link rel="stylesheet" href="/pr-preview/pr-2/_astro/_slug_.DPN5iaBe.css">
<style>.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube:hover>.lty-playbtn,lite-youtube .lty-playbtn:focus{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo>.ltv-playbtn{content:"";position:absolute;inset:0;width:100%;background:transparent;outline:0;border:0;cursor:pointer}lite-vimeo>.ltv-playbtn:before{width:6.5em;height:4em;background:#172322bf;opacity:.8;border-radius:.25rem;transition:all .2s cubic-bezier(0,0,.2,1)}lite-vimeo>.ltv-playbtn:focus:before{outline:auto}lite-vimeo:hover>.ltv-playbtn:before{background-color:#00adef;background-color:var(--ltv-color, #00adef);opacity:1}lite-vimeo>.ltv-playbtn:after{border-style:solid;border-width:1em 0 1em 1.7em;border-color:transparent transparent transparent #fff}lite-vimeo>.ltv-playbtn:before,lite-vimeo>.ltv-playbtn:after{content:"";position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{cursor:unset;opacity:0;pointer-events:none}
</style><script type="module" src="/pr-preview/pr-2/_astro/hoisted.BbhzTRyy.js"></script></head> <body class="text-default bg-page"> <header class="scroll fixed top-0 z-40 flex-none mx-auto w-full border-b border-gray-50/0 transition-[opacity] ease-in-out" data-sticky-header="true" id="header"> <div class="absolute inset-0 bg-white dark:bg-dark"></div> <div class="relative text-default p-3 md:px-6 w-full flex justify-between"> <a class="flex items-center" href="/pr-preview/pr-2/tmp/pr-preview/pr-2"> <span class="self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl font-bold text-gray-900 whitespace-nowrap dark:text-white"></span> <span class="min-[600px]:hidden self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl lg:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white"> ðŸ”¬   Janelia OSSI </span> <span class="hidden min-[600px]:block self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl lg:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white"> ðŸ”¬   Janelia Open Source Science Initiative </span> </a> <div class="flex"> <div class="flex items-center lg:hidden order-2"> <button class="flex flex-col h-12 w-12 rounded justify-center items-center cursor-pointer group" aria-label="Toggle Menu" data-aw-toggle-menu> <span class="sr-only">Toggle Menu</span>  <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:rotate-45 group-[.expanded]:translate-y-2.5"></span> <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:opacity-0"></span> <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:-rotate-45 group-[.expanded]:-translate-y-2.5"></span>  </button> </div> <nav class="items-center w-full lg:w-auto hidden lg:flex text-default overflow-y-auto overflow-x-hidden lg:overflow-y-visible lg:overflow-x-auto lg:mx-5" aria-label="Main navigation"> <ul class="flex flex-col md:flex-row md:self-center w-full md:w-auto text-xl md:text-[0.9375rem] tracking-[0.01rem] font-medium"> <li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2"> Home </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/projects"> Projects </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/ecosystems"> Ecosystems </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/ossi"> OSSI </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/blog"> Blog </a> </li> </ul> </nav> <div id="toggle-theme" class="self-center flex items-center w-auto static justify-end"> <button type="button" class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-6 h-6" data-icon="tabler:sun">  <symbol id="ai:tabler:sun"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12a4 4 0 1 0 8 0a4 4 0 1 0-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7l-.7.7m0 11.4l.7.7m-12.1-.7l-.7.7"/></symbol><use xlink:href="#ai:tabler:sun"></use>  </svg> </button> </div> </div> </div> </header>  <div class="pt-24 pb-8 max-w-7xl mx-auto"> <a class="self-start mx-6 border-b-2 text-sm transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="/pr-preview/pr-2/projects">
Projects
</a> <div class="flex flex-col lg:grid grid-cols-6"> <section class="row-start-1 row-span-1 col-span-4 pt-6 pb-8"> <h1 class="mx-6 text-4xl md:text-5xl font-bold leading-tighter tracking-tighter font-heading"> Cellpose </h1> <p class="mx-6 mt-6 md:mt-10 text-xl md:text-2xl text-muted dark:text-slate-400"> A generalist algorithm for cell and nucleus segmentation (v1.0) that can be optimized for your own data (v2.0) and perform image restoration (v3.0). </p> </section> <div class="px-6 py-12 lg:p-0 lg:pl-12 row-start-1 row-span-2 col-start-5 col-span-2 bg-primary lg:bg-page dark:bg-slate-900"> <div class="p-6 rounded-md shadow-sm lg:shadow-none bg-page"> <h2 class="text-xl font-bold mb-6">Quick links</h2> <div class="flex flex-row flex-wrap gap-6 mx-auto"> <div class="flex flex-col gap-1 mr-8"> <h3 class="font-bold mb-1">Get started</h3> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://github.com/MouseLand/cellpose"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <symbol id="ai:tabler:square-chevron-right"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m11 9l3 3l-3 3"/><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></symbol><use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
Source code
</a> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://cellpose.readthedocs.io/en/latest/"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
Documentation
</a> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://github.com/MouseLand/cellpose?tab=readme-ov-file#installation"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
How to install
</a> </div> <div class="flex flex-col gap-1 mr-8 md:mr-12"> <h3 class="font-bold mb-1">Get help</h3> <a class="self-start btn rounded-md p-2 font-normal" href="https://github.com/MouseLand/cellpose">
Open an issue on GitHub
</a> <a class="self-start btn rounded-md p-2 font-normal" href="placeholder@gmail.com">
Reach out with a question
</a> </div> <div class="flex flex-col gap-1"> <h3 class="font-bold mb-1">Cite this software</h3> <a class=" self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://doi.org/10.1038/s41592-020-01018-x">Stringer, C., Wang, T., Michaelos, M., &amp; Pachitariu, M. (2021). Cellpose: a generalist algorithm for cellular segmentation. Nature methods, 18(1), 100-106.</a> </div> </div> </div> </div> <div class="col-start-1 col-span-4"> <div class="flex flex-col pb-12 lg:pb-0 lg:ml-6 bg-primary lg:bg-page items-center">   </div> <div class="mx-6 my-6 flex flex-col gap-1"> <div class="flex flex-wrap mb-2 gap-3"> <p class="font-semibold">Development Team:</p> <a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://www.janelia.org/lab/pachitariu-lab"> Pachitariu Lab </a><a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://www.janelia.org/lab/stringer-lab"> Stringer Lab </a> </div> <div class="flex flex-wrap mb-2 gap-3"> <p class="font-semibold">License:</p> BSD-3 ClauseGPL-2.0 </div>  <div class="flex flex-wrap mb-2 gap-3"><h3 class="font-bold mb-1">External links:</h3><div class="mb-1"><a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://drive.google.com/file/d/1-KLHwZ3g6A1F8AWYge7llfEHViaHWsoc/view"> OSSI funding proposal </a></div></div> <div class="pt-6 flex flex-wrap gap-2"> <span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-primary)"> Pachitariu Lab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-primary)"> Stringer Lab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ab3f32"> Python </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#8b8883"> BSD-3 Clause </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#8b8883"> GPL-2.0 </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#5084ac"> Package </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Calcium imaging </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Confocal light microscopy (LM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Electron microscopy (EM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Expansion microscopy (ExM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#7b0249"> Google Colab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#7b0249"> Local installation </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-accent)"> Napari </span> </div> </div> <section class="col-span-4 row-start-3 ml-6 prose prose-lg lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg"> <div class="my-6 md:mt-10"> <div class="border-t dark:border-slate-700"></div> </div> <!-- This is where any custom description of the project gets rendered --> <div><div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto"><p dir="auto">  <b>Cellpose </b> </p></h1><a id="user-content---cellpose--" class="anchor" aria-label="Permalink: Cellpose " href="#--cellpose--"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4628a28297ceb159725f032b3f655ba5a3617321fb67378015c609819653a8c1/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f6c6f676f2e706e673f7261773d54727565"><img src="https://camo.githubusercontent.com/4628a28297ceb159725f032b3f655ba5a3617321fb67378015c609819653a8c1/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f6c6f676f2e706e673f7261773d54727565" width="250" title="cellpose" alt="cellpose" align="right" data-canonical-src="http://www.cellpose.org/static/images/logo.png?raw=True" style="max-width: 100%;"></a></p>
<p dir="auto"><a href="https://cellpose.readthedocs.io/en/latest/?badge=latest" rel="nofollow"><img src="https://camo.githubusercontent.com/599551e01bab82b79985cf8b8f240a52f98462aac146aafadc53ddd74e9634aa/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f63656c6c706f73652f62616467652f3f76657273696f6e3d6c6174657374" alt="Documentation Status" data-canonical-src="https://readthedocs.org/projects/cellpose/badge/?version=latest" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/mouseland/cellpose/actions/workflows/test_and_deploy.yml/badge.svg"><img src="https://github.com/mouseland/cellpose/actions/workflows/test_and_deploy.yml/badge.svg" alt="tests" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/MouseLand/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/a2caabfd9bc670074632359c64a76a42666267e60fa163454eaac66a871a247a/68747470733a2f2f636f6465636f762e696f2f67682f4d6f7573654c616e642f63656c6c706f73652f6272616e63682f6d61696e2f67726170682f62616467652e7376673f746f6b656e3d3946466f347a4e745950" alt="codecov" data-canonical-src="https://codecov.io/gh/MouseLand/cellpose/branch/main/graph/badge.svg?token=9FFo4zNtYP" style="max-width: 100%;"></a>
<a href="https://badge.fury.io/py/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/2ecbfa4566bac5617f4a20593b0ac70aca3877512a6661b3578058b87d9c9595/68747470733a2f2f62616467652e667572792e696f2f70792f63656c6c706f73652e737667" alt="PyPI version" data-canonical-src="https://badge.fury.io/py/cellpose.svg" style="max-width: 100%;"></a>
<a href="https://pepy.tech/project/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/5a873db17824613689ac1eb80ff8536e2dc99b970981778b638e4ddfa2fdb29b/68747470733a2f2f706570792e746563682f62616467652f63656c6c706f7365" alt="Downloads" data-canonical-src="https://pepy.tech/badge/cellpose" style="max-width: 100%;"></a>
<a href="https://pepy.tech/project/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/c9a7f0067005ac61c027878cd3d47695f2d537dbb9b125ae6627bf8fadadbe0d/68747470733a2f2f706570792e746563682f62616467652f63656c6c706f73652f6d6f6e7468" alt="Downloads" data-canonical-src="https://pepy.tech/badge/cellpose/month" style="max-width: 100%;"></a>
<a href="https://pypistats.org/packages/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/e17662de54ae6aa348c46bd44828738d7915773c53d920f72fed97ee7703a86b/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f63656c6c706f7365" alt="Python version" data-canonical-src="https://img.shields.io/pypi/pyversions/cellpose" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/cellpose/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/fc4ec568cb72347d1db6ce7ff3b0b97039e47be3148247a39fa6ce316f32072e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4d6f7573654c616e642f63656c6c706f7365" alt="Licence: GPL v3" data-canonical-src="https://img.shields.io/github/license/MouseLand/cellpose" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/cellpose/graphs/contributors"><img src="https://camo.githubusercontent.com/1f64ebba42d801a3d4a05e61fb192011e5e375c59402d26ec250b7232b183eb2/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732d616e6f6e2f4d6f7573654c616e642f63656c6c706f7365" alt="Contributors" data-canonical-src="https://img.shields.io/github/contributors-anon/MouseLand/cellpose" style="max-width: 100%;"></a>
<a href="https://www.cellpose.org" rel="nofollow"><img src="https://camo.githubusercontent.com/a223df86d3393d3f153de9688a6894b638cc321e7cf857dc359b02728bcbc142/68747470733a2f2f696d672e736869656c64732e696f2f776562736974653f75726c3d68747470732533412532462532467777772e63656c6c706f73652e6f7267" alt="website" data-canonical-src="https://img.shields.io/website?url=https%3A%2F%2Fwww.cellpose.org" style="max-width: 100%;"></a>
<a href="https://forum.image.sc/tag/cellpose" rel="nofollow"><img src="https://camo.githubusercontent.com/c7b35c831ac18063930509877fed34bb2c8c6dcb8f08c2a678fc8b39ea9d10ce/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e2e7376673f6c6162656c3d666f72756d2675726c3d6874747073253341253246253246666f72756d2e696d6167652e73632532467461677325324663656c6c706f73652e6a736f6e2671756572793d2532342e746f7069635f6c6973742e746167732e302e746f7069635f636f756e7426636f6c6f72423d627269676874677265656e267375666669783d253230746f70696373266c6f676f3d646174613a696d6167652f706e673b6261736536342c6956424f5277304b47676f414141414e5355684555674141414134414141414f43415941414141665343335241414142506b6c4551565234326d335379797146555254413859324245523054447945785a2b615350494b556c50494954467a4b655157587768426c51726d4667557a4d4d464c4b5a656775427535792b2f2f31376450336e633576755064656536323939676f685559596144474f7979414371344a6d51566f46756a4f4d523737684e664f41474d2b68424f51714239546a484433367868416130345243757558654b4f7677485657494b4c396a434b326252695632383451674c384d77456a416e65656f39564e4f456142687a414c47746f5279303263496357684533346a6a35597867572b45355a346954506b4d5970504c434e593368644f5945664e624b59646d4e6e675a316a79457a77376837414962336652545139354f415a367951704759484d4d744f54676f756b745977787558734867574c4c6c2b34782b2b4b7831464a726a4c5461674137376254507659677731725271593536652b7737474e59737158364a665077693761522b593553412b4258744b4952666b664a4159676a313474704f46362b49343663342f63414d3355684d334a78794b7378694f49684830494f3653482f41314b6231574265556a626b4141414141456c46546b5375516d4343" alt="Image.sc forum" data-canonical-src="https://img.shields.io/badge/dynamic/json.svg?label=forum&amp;url=https%3A%2F%2Fforum.image.sc%2Ftags%2Fcellpose.json&amp;query=%24.topic_list.tags.0.topic_count&amp;colorB=brightgreen&amp;suffix=%20topics&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABPklEQVR42m3SyyqFURTA8Y2BER0TDyExZ+aSPIKUlPIITFzKeQWXwhBlQrmFgUzMMFLKZeguBu5y+//17dP3nc5vuPdee6299gohUYYaDGOyyACq4JmQVoFujOMR77hNfOAGM+hBOQqB9TjHD36xhAa04RCuuXeKOvwHVWIKL9jCK2bRiV284QgL8MwEjAneeo9VNOEaBhzALGtoRy02cIcWhE34jj5YxgW+E5Z4iTPkMYpPLCNY3hdOYEfNbKYdmNngZ1jyEzw7h7AIb3fRTQ95OAZ6yQpGYHMMtOTgouktYwxuXsHgWLLl+4x++Kx1FJrjLTagA77bTPvYgw1rRqY56e+w7GNYsqX6JfPwi7aR+Y5SA+BXtKIRfkfJAYgj14tpOF6+I46c4/cAM3UhM3JxyKsxiOIhH0IO6SH/A1Kb1WBeUjbkAAAAAElFTkSuQmCC" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/cellpose/"><img src="https://camo.githubusercontent.com/64f209f57416d4890836f407fbffaabe5a7df7e8e62ef29c8091717f071be102/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7265706f2d73697a652f4d6f7573654c616e642f63656c6c706f7365" alt="repo size" data-canonical-src="https://img.shields.io/github/repo-size/MouseLand/cellpose" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/cellpose/"><img src="https://camo.githubusercontent.com/3bc97a0e588d9607b7b3fe138560a44f96cbb0e632755bbb598e971254f88ad2/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f4d6f7573654c616e642f63656c6c706f73653f7374796c653d736f6369616c" alt="GitHub stars" data-canonical-src="https://img.shields.io/github/stars/MouseLand/cellpose?style=social" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/cellpose/"><img src="https://camo.githubusercontent.com/6a14b2b54337ace74403e5e75d63c8f2b3a99921d0acb369513e322fda65a53a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f4d6f7573654c616e642f63656c6c706f73653f7374796c653d736f6369616c" alt="GitHub forks" data-canonical-src="https://img.shields.io/github/forks/MouseLand/cellpose?style=social" style="max-width: 100%;"></a></p>
<p dir="auto">A generalist algorithm for cell and nucleus segmentation (v1.0) that can be optimized for your own data (v2.0) and (<strong>NEW</strong>) perform image restoration (v3.0).</p>
<p dir="auto">Cellpose was written by Carsen Stringer and Marius Pachitariu. To learn about Cellpose3 (image restoration), read the <a href="https://www.biorxiv.org/content/10.1101/2024.02.10.579780v1" rel="nofollow">paper</a>. To learn about Cellpose 2.0 (human-in-the-loop), read the <a href="https://www.nature.com/articles/s41592-022-01663-4" rel="nofollow">paper</a> or watch the <a href="https://www.youtube.com/watch?v=3ydtAhfq6H0" rel="nofollow">talk</a>. To learn about Cellpose 1.0, read the <a href="https://t.co/kBMXmPp3Yn?amp=1" rel="nofollow">paper</a> or watch the <a href="https://t.co/JChCsTD0SK?amp=1" rel="nofollow">talk</a>. For support, please open an <a href="https://github.com/MouseLand/cellpose/issues">issue</a>.</p>
<p dir="auto">Please see install instructions <a href="README.md/#Installation">below</a>, and also check out the detailed documentation at <a href="https://cellpose.readthedocs.io/en/latest/" rel="nofollow"><strong>cellpose.readthedocs.io</strong></a> for more information.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">ðŸŒŸ v3 (Feb 2024) ðŸŒŸ</h3><a id="user-content-star2-v3-feb-2024-star2" class="anchor" aria-label="Permalink: :star2: v3 (Feb 2024) :star2:" href="#star2-v3-feb-2024-star2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Cellpose3 enables image restoration in the GUI, API and CLI (saved to <code>_seg.npy</code>). To learn more...</p>
<ul dir="auto">
<li>Check out the <a href="https://www.biorxiv.org/content/10.1101/2024.02.10.579780v1" rel="nofollow">paper</a>.</li>
<li>API documentation <a href="https://cellpose.readthedocs.io/en/latest/restore.html" rel="nofollow">here</a></li>
<li>Example google colab notebook for image restoration: <a href="https://colab.research.google.com/github/MouseLand/cellpose/blob/main/notebooks/run_cellpose3.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a>, using new <code>CellposeDenoiseModel</code>.</li>
<li>Example google colab notebook with new super-generalist "cyto3" model: <a href="https://colab.research.google.com/github/MouseLand/cellpose/blob/main/notebooks/run_cyto3.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a>. Try out the new <code>cyto3</code> super-generalist Cellpose model with <code>model_type="cyto3"</code>.</li>
</ul>
<table>
<thead>
<tr>
<th align="center">denoising</th>
<th align="center">deblurring</th>
<th align="center">upsampling</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/f451d5c750d737a6632db0dcb28c6465857559bb801d13600246959ff2dbe78d/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f706f6973736f6e5f6370332e6769663f7261773d54727565"><img src="https://camo.githubusercontent.com/f451d5c750d737a6632db0dcb28c6465857559bb801d13600246959ff2dbe78d/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f706f6973736f6e5f6370332e6769663f7261773d54727565" width="350" title="cellpose denoising" alt="cellpose denoising examples" data-animated-image="" data-canonical-src="http://www.cellpose.org/static/images/poisson_cp3.gif?raw=True" style="max-width: 100%;"></a></td>
<td align="center"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/588a8003683a05c57eef6060f6cdd8e86332b3421ecd0d8ef6b7ee01d45bede0/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f626c75725f6370332e6769663f7261773d54727565"><img src="https://camo.githubusercontent.com/588a8003683a05c57eef6060f6cdd8e86332b3421ecd0d8ef6b7ee01d45bede0/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f626c75725f6370332e6769663f7261773d54727565" width="350" title="cellpose deblurring" alt="cellpose deblurring examples" data-animated-image="" data-canonical-src="http://www.cellpose.org/static/images/blur_cp3.gif?raw=True" style="max-width: 100%;"></a></td>
<td align="center"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9c0465837a96d4c8dca1d1b66d52f31d21f4bccaa079d84c0fb7e26df6872f9a/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f646f776e73616d706c655f6370332e6769663f7261773d54727565"><img src="https://camo.githubusercontent.com/9c0465837a96d4c8dca1d1b66d52f31d21f4bccaa079d84c0fb7e26df6872f9a/687474703a2f2f7777772e63656c6c706f73652e6f72672f7374617469632f696d616765732f646f776e73616d706c655f6370332e6769663f7261773d54727565" width="350" title="cellpose upsampling" alt="cellpose upsampling examples" data-animated-image="" data-canonical-src="http://www.cellpose.org/static/images/downsample_cp3.gif?raw=True" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">CITATION</h3><a id="user-content-citation" class="anchor" aria-label="Permalink: CITATION" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>If you use Cellpose 1, 2 or 3, please cite the Cellpose 1.0 <a href="https://t.co/kBMXmPp3Yn?amp=1" rel="nofollow">paper</a>:</strong><br>
Stringer, C., Wang, T., Michaelos, M., &amp; Pachitariu, M. (2021). Cellpose: a generalist algorithm for cellular segmentation. <em>Nature methods, 18</em>(1), 100-106.</p>
<p dir="auto"><strong>If you use the human-in-the-loop training, please also cite the Cellpose 2.0 <a href="https://www.nature.com/articles/s41592-022-01663-4" rel="nofollow">paper</a>:</strong><br>
Pachitariu, M. &amp; Stringer, C. (2022). Cellpose 2.0: how to train your own model. <em>Nature methods</em>, 1-8.</p>
<p dir="auto"><strong>If you use the new image restoration models or cyto3, please also cite the Cellpose3 <a href="https://www.biorxiv.org/content/10.1101/2024.02.10.579780v1" rel="nofollow">paper</a>:</strong><br>
Stringer, C. &amp; Pachitariu, M. (2024). Cellpose3: one-click image restoration for improved segmentation. <em>bioRxiv</em>.</p>
<p dir="auto">ðŸš© All models in Cellpose, except <code>yeast_BF_cp3</code>, <code>yeast_PhC_cp3</code>, and <code>deepbacs_cp3</code>, are trained on some amount of data that is <strong>CC-BY-NC</strong>. The Cellpose annotated dataset is also CC-BY-NC.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">ðŸŒŸ v2.0 (April 2022) ðŸŒŸ</h3><a id="user-content-star2-v20-april-2022-star2" class="anchor" aria-label="Permalink: :star2: v2.0 (April 2022) :star2:" href="#star2-v20-april-2022-star2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Cellpose 2.0 now allows human-in-the-loop training of models! To learn more...</p>
<ul dir="auto">
<li>Check out the twitter <a href="https://twitter.com/marius10p/status/1511415409047650307?s=20&amp;t=umTVIG1CFKIWHYMrQqFKyQ" rel="nofollow">thread</a> for an overview.</li>
<li>Check out the <a href="https://www.nature.com/articles/s41592-022-01663-4" rel="nofollow">paper</a> for more details on the algorithm and the performance. Also, there's a short review of the paper available <a href="https://www.nature.com/articles/s41592-022-01664-3" rel="nofollow">here</a>.</li>
<li>Watch the short intro <a href="https://www.youtube.com/watch?v=3ydtAhfq6H0" rel="nofollow">talk</a> and watch the longer <a href="https://youtu.be/5qANHWoubZU" rel="nofollow">tutorial talk</a> which goes through running Cellpose 2.0 in the GUI and a jupyter notebook.</li>
<li>Check out the full human-in-the-loop <a href="https://youtu.be/3Y1VKcxjNy4" rel="nofollow">video</a>.</li>
<li>Check out the colab notebook to get cloud access to a GPU to train your models or run your custom models: <a href="https://colab.research.google.com/github/MouseLand/cellpose/blob/main/notebooks/run_cellpose_2.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a>.</li>
<li>See how to use it yourself in the <a href="https://cellpose.readthedocs.io/en/latest/gui.html#training-your-own-cellpose-model" rel="nofollow">docs</a> and also check out the help info in the <code>Models</code> menu in the GUI.</li>
</ul>
<p dir="auto">Mxnet is no longer supported in cellpose. To use mxnet, please use v1.0.2 (not recommended).</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Installation</h1><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Local installation (&lt; 2 minutes)</h2><a id="user-content-local-installation--2-minutes" class="anchor" aria-label="Permalink: Local installation (&lt; 2 minutes)" href="#local-installation--2-minutes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">System requirements</h3><a id="user-content-system-requirements" class="anchor" aria-label="Permalink: System requirements" href="#system-requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Linux, Windows and Mac OS are supported for running the code. For running the graphical interface you will need a Mac OS later than Yosemite. At least 8GB of RAM is required to run the software. 16GB-32GB may be required for larger images and 3D volumes. The software has been heavily tested on Windows 10 and Ubuntu 18.04 and less well-tested on Mac OS. Please open an issue if you have problems with installation.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Dependencies</h3><a id="user-content-dependencies" class="anchor" aria-label="Permalink: Dependencies" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">cellpose relies on the following excellent packages (which are automatically installed with conda/pip if missing):</p>
<ul dir="auto">
<li><a href="https://pytorch.org/" rel="nofollow">pytorch</a></li>
<li><a href="http://pyqtgraph.org/" rel="nofollow">pyqtgraph</a></li>
<li><a href="http://pyqt.sourceforge.net/Docs/PyQt5/" rel="nofollow">PyQt5</a></li>
<li><a href="http://www.numpy.org/" rel="nofollow">numpy</a> (&gt;=1.16.0)</li>
<li><a href="http://numba.pydata.org/numba-doc/latest/user/5minguide.html" rel="nofollow">numba</a></li>
<li><a href="https://www.scipy.org/" rel="nofollow">scipy</a></li>
<li><a href="https://natsort.readthedocs.io/en/master/" rel="nofollow">natsort</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Instructions</h3><a id="user-content-instructions" class="anchor" aria-label="Permalink: Instructions" href="#instructions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you have an older <code>cellpose</code> environment you can remove it with <code>conda env remove -n cellpose</code> before creating a new one.</p>
<p dir="auto">If you are using a GPU, make sure its drivers and the cuda libraries are correctly installed.</p>
<ol dir="auto">
<li>Install an <a href="https://www.anaconda.com/products/distribution" rel="nofollow">Anaconda</a> distribution of Python. Note you might need to use an anaconda prompt if you did not add anaconda to the path.</li>
<li>Open an anaconda prompt / command prompt which has <code>conda</code> for <strong>python 3</strong> in the path</li>
<li>Create a new environment with <code>conda create --name cellpose python=3.8</code>. We recommend python 3.8, but python 3.9 and 3.10 will likely work as well.</li>
<li>To activate this new environment, run <code>conda activate cellpose</code></li>
<li>To install the minimal version of cellpose, run <code>python -m pip install cellpose</code>.</li>
<li>To install cellpose and the GUI, run <code>python -m pip install cellpose[gui]</code>. If you're on a zsh server, you may need to use ' ' around the cellpose[gui] call: <code>python -m pip install 'cellpose[gui]'</code>.</li>
</ol>
<p dir="auto">To upgrade cellpose (package <a href="https://pypi.org/project/cellpose/" rel="nofollow">here</a>), run the following in the environment:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="python -m pip install cellpose --upgrade"><pre>python -m pip install cellpose --upgrade</pre></div>
<p dir="auto">Note you will always have to run <code>conda activate cellpose</code> before you run cellpose. If you want to run jupyter notebooks in this environment, then also <code>python -m pip install notebook</code> and <code>python -m pip install matplotlib</code>.</p>
<p dir="auto">You can also try to install cellpose and the GUI dependencies from your base environment using the command</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="python -m pip install cellpose[gui]"><pre>python -m pip install cellpose[gui]</pre></div>
<p dir="auto">If you have <strong>issues</strong> with installation, see the <a href="https://cellpose.readthedocs.io/en/latest/installation.html" rel="nofollow">docs</a> for more details. You can also use the cellpose environment file included in the repository and create a cellpose environment with <code>conda env create -f environment.yml</code> which may solve certain dependency issues.</p>
<p dir="auto">If these suggestions fail, open an issue.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">GPU version (CUDA) on Windows or Linux</h3><a id="user-content-gpu-version-cuda-on-windows-or-linux" class="anchor" aria-label="Permalink: GPU version (CUDA) on Windows or Linux" href="#gpu-version-cuda-on-windows-or-linux"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you plan on running many images, you may want to install a GPU version of <em>torch</em> (if it isn't already installed).</p>
<p dir="auto">To use your NVIDIA GPU with python, you will first need to install the NVIDIA driver for your GPU, check out this <a href="https://www.nvidia.com/Download/index.aspx?lang=en-us" rel="nofollow">website</a> to download it. You can also install the CUDA toolkit, or use the pytorch cudatoolkit (installed below with conda). If you have trouble with the below install, we recommend installing the CUDA toolkit yourself, choosing one of the 11.x releases <a href="https://developer.nvidia.com/cuda-toolkit-archive" rel="nofollow">here</a>.</p>
<p dir="auto">Next we need to remove the CPU version of torch:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip uninstall torch"><pre class="notranslate"><code>pip uninstall torch
</code></pre></div>
<p dir="auto">To install the GPU version of torch, follow the instructions <a href="https://pytorch.org/get-started/locally/" rel="nofollow">here</a>. The conda install is strongly recommended, and then choose the CUDA version that is supported by your GPU (newer GPUs may need newer CUDA versions &gt; 10.2). For instance this command will install the 11.6 version on Linux and Windows (note the <code>torchvision</code> and <code>torchaudio</code> commands are removed because cellpose doesn't require them):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="conda install pytorch pytorch-cuda=11.6 -c pytorch -c nvidia"><pre class="notranslate"><code>conda install pytorch pytorch-cuda=11.6 -c pytorch -c nvidia
</code></pre></div>
<p dir="auto">If the latest CUDA versions don't work, try an older version like cuda 11.3:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="conda install pytorch==1.12.0 cudatoolkit=11.3 -c pytorch"><pre class="notranslate"><code>conda install pytorch==1.12.0 cudatoolkit=11.3 -c pytorch
</code></pre></div>
<p dir="auto">Info on how to install several older versions is available <a href="https://pytorch.org/get-started/previous-versions/" rel="nofollow">here</a>. After install you can check <code>conda list</code> for <code>pytorch</code>, and its version info should have <code>cuXX.X</code>, not <code>cpu</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Installation of github version</h3><a id="user-content-installation-of-github-version" class="anchor" aria-label="Permalink: Installation of github version" href="#installation-of-github-version"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Follow steps from above to install the dependencies. Then run</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install git+https://www.github.com/mouseland/cellpose.git"><pre class="notranslate"><code>pip install git+https://www.github.com/mouseland/cellpose.git
</code></pre></div>
<p dir="auto">If you want edit ability to the code, in the github repository folder, run <code>pip install -e .</code>. If you want to go back to the pip version of cellpose, then say <code>pip install cellpose</code>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Run cellpose 1.0 without local python installation</h2><a id="user-content-run-cellpose-10-without-local-python-installation" class="anchor" aria-label="Permalink: Run cellpose 1.0 without local python installation" href="#run-cellpose-10-without-local-python-installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can quickly try out Cellpose on the <a href="https://www.cellpose.org" rel="nofollow">website</a> first (many features disabled).</p>
<p dir="auto">You can also run Cellpose in google colab with a GPU:</p>
<ul dir="auto">
<li>a code-based notebook: <a href="https://colab.research.google.com/github/MouseLand/cellpose/blob/main/notebooks/run_cellpose_GPU.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a></li>
<li>a more user-friendly notebook for 2D segmentation written by <a href="https://github.com/pr4deepr">@pr4deepr</a>: <a href="https://colab.research.google.com/github/MouseLand/cellpose/blob/main/notebooks/Cellpose_cell_segmentation_2D_prediction_only.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a></li>
<li>a user-friendly <a href="https://github.com/HenriquesLab/ZeroCostDL4Mic">ZeroCostDL4Mic</a> notebook that includes training cellpose models, written by <a href="https://github.com/guijacquemet">@guijacquemet</a>: <a href="https://colab.research.google.com/github/HenriquesLab/ZeroCostDL4Mic/blob/master/Colab_notebooks/Beta%20notebooks/Cellpose_2D_ZeroCostDL4Mic.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a></li>
</ul>
<p dir="auto">The colab notebooks are recommended if you have issues with MKL or run speed on your local computer (and are running 3D volumes). Colab does not allow you to run the GUI, but you can save <code>*_seg.npy</code> files in colab that you can download and open in the GUI.</p>
<p dir="auto"><strong>Executable file</strong>: You can download an executable file for <a href="http://www.cellpose.org/windows" rel="nofollow"><em>Windows 10</em></a> or for <a href="http://www.cellpose.org/mac" rel="nofollow"><em>Mac OS</em></a> (High Sierra or greater) that were made using PyInstaller on Intel processors (MKL acceleration works, but no GPU support). Note in both cases it will take a few seconds to open.</p>
<ul dir="auto">
<li>The <a href="https://www.cellpose.org/mac" rel="nofollow"><em>Mac OS</em></a> file will download as <code>cellpose_mac</code> OR <code>cellpose_mac.dms</code>. You will need to make it into an executable file and run it through the terminal:</li>
</ul>
<ol dir="auto">
<li>Open a terminal and run <code>cd ~/Downloads/</code>.</li>
<li>Run <code>chmod 777 cellpose_mac</code> OR <code>chmod 777 cellpose_mac.dms</code> to make the file executable.</li>
<li>Run <code>./cellpose_mac</code> OR <code>./cellpose_mac.dms</code> to open the cellpose GUI. Messages from cellpose will be printed in the terminal.</li>
<li>You can also run using the command line interface, e.g. as <code>./cellpose_mac --dir ~/Pictures/ --chan 2 --save_png</code>.</li>
</ol>
<ul dir="auto">
<li>The <a href="https://www.cellpose.org/windows" rel="nofollow"><em>Windows 10</em></a> file is an exe and you can click on it to run the GUI. You can also run using the command line interface, e.g. as <code>cellpose.exe --dir Pictures/ --chan 2 --save_png</code></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Run cellpose locally</h1><a id="user-content-run-cellpose-locally" class="anchor" aria-label="Permalink: Run cellpose locally" href="#run-cellpose-locally"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The quickest way to start is to open the GUI from a command line terminal. You might need to open an anaconda prompt if you did not add anaconda to the path:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="python -m cellpose"><pre class="notranslate"><code>python -m cellpose
</code></pre></div>
<p dir="auto">The first time cellpose runs it downloads the latest available trained model weights from the website.</p>
<p dir="auto">You can now <strong>drag and drop</strong> any images (*.tif, *.png, *.jpg, *.gif) into the GUI and run Cellpose, and/or manually segment them. When the GUI is processing, you will see the progress bar fill up and during this time you cannot click on anything in the GUI. For more information about what the GUI is doing you can look at the terminal/prompt you opened the GUI with. For example data, see <a href="http://www.cellpose.org" rel="nofollow">website</a> or this google drive <a href="https://drive.google.com/open?id=18syVlaix8cIlrnNF20pEWKMWUsKx9R9z" rel="nofollow">folder</a>. For best accuracy and runtime performance, resize images so cells are less than 100 pixels across.</p>
<p dir="auto">For 3D data, with multi-Z, please use the 3D version of the GUI with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="python -m cellpose --Zstack"><pre class="notranslate"><code>python -m cellpose --Zstack
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Step-by-step demo</h2><a id="user-content-step-by-step-demo" class="anchor" aria-label="Permalink: Step-by-step demo" href="#step-by-step-demo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Download this <a href="http://cellpose.org/static/images/demo_images.zip" rel="nofollow">folder</a> of images and unzip it. These are a subset of the test images from the paper.</li>
<li>Start the GUI with <code>python -m cellpose</code>.</li>
<li>Drag an image from the folder into the GUI.</li>
<li>Set the model (in demo all are <code>cyto</code>) and the channel you want to segment (in demo all are <code>green</code>). Optionally set the second channel if you are segmenting <code>cyto</code> and have an available nucleus channel.</li>
<li>Click the <code>calibrate</code> button to estimate the size of the objects in the image. Alternatively (RECOMMENDED) you can set the <code>cell diameter</code> by hand and press ENTER. You will see the size you set as a red disk at the bottom left of the image.</li>
<li>Click the <code>run segmentation</code> button. If MASKS ON is checked, you should see masks drawn on the image.</li>
<li>Now you can click the LEFT/RIGHT arrow keys to move through the folder and segment another image.</li>
</ol>
<p dir="auto">To draw ROIs on the image you can right-click then hover to complete the ROI (do not right-click and drag). To remove ROIs left-click while holding down CTRL. See more details <a href="https://cellpose.readthedocs.io/en/latest/gui.html" rel="nofollow">here</a>.</p>
<p dir="auto">On the demo images each of these steps should run in less than a few seconds on a standard laptop or desktop (with mkl working).</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">3D segmentation</h3><a id="user-content-3d-segmentation" class="anchor" aria-label="Permalink: 3D segmentation" href="#3d-segmentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For multi-channel, multi-Z tiff's, the expected format is Z x channels x Ly x Lx.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Download of pretrained models</h3><a id="user-content-download-of-pretrained-models" class="anchor" aria-label="Permalink: Download of pretrained models" href="#download-of-pretrained-models"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The models will be downloaded automatically from the <a href="https://www.cellpose.org" rel="nofollow">website</a> when you first run a pretrained model in cellpose. If you are having issues with the downloads, you can download them from this <a href="https://drive.google.com/file/d/1zHGFYCqRCTwTPwgEUMNZu0EhQy2zaovg/view?usp=sharing" rel="nofollow">google drive zip file</a>, unzip the file and put the models in your home directory under the path .cellpose/models/, e.g. on Windows this would be C:/Users/YOUR_USERNAME/.cellpose/models/ or on Linux this would be /home/YOUR_USERNAME/.cellpose/models/, so /home/YOUR_USERNAME/.cellpose/models/cyto_0 is the full path to one model for example. If you cannot access google drive, the models are also available on baidu: Linkï¼š<a href="https://pan.baidu.com/s/1CARpRGCBHIYaz7KeyoX-fg" rel="nofollow">https://pan.baidu.com/s/1CARpRGCBHIYaz7KeyoX-fg</a> ; Fetch codeï¼špose ; thanks to @qixinbo!</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Older software releases</h1><a id="user-content-older-software-releases" class="anchor" aria-label="Permalink: Older software releases" href="#older-software-releases"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">UPDATE v1.0 (Jan 2022)</h3><a id="user-content-update-v10-jan-2022" class="anchor" aria-label="Permalink: UPDATE v1.0 (Jan 2022)" href="#update-v10-jan-2022"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Cellpose has been relatively stable for a while now. Small bugs will continue to be fixed, but we are now releasing a reference 1.0 version. Larger updates to Cellpose will go towards a new 2.0 candidate version to be released soon.</p>
<p dir="auto">This update fixes bugs in GUI and plotting. It also stops model weight reloading to improve speed. <code>resample=True</code> is default again as in earlier releases, turn off with <code>--no_resample</code>. Now logging is turned off by default. Turn on in CLI with <code>--verbose</code> flag or in a script/notebook by</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="from cellpose.io import logger_setup
logger_setup();"><pre class="notranslate"><code>from cellpose.io import logger_setup
logger_setup();
</code></pre></div>
<p dir="auto">To install this version please use</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install cellpose==1.0.2"><pre class="notranslate"><code>pip install cellpose==1.0.2
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">UPDATE v0.7 (Nov 2021)</h3><a id="user-content-update-v07-nov-2021" class="anchor" aria-label="Permalink: UPDATE v0.7 (Nov 2021)" href="#update-v07-nov-2021"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Check out <a href="https://github.com/kevinjohncutler/omnipose">Omnipose</a>, an extension of Cellpose for long filamentous bacteria. Omnipose was written by Kevin Cutler (<a href="https://github.com/kevinjohncutler">@kevinjohncutler</a>). To learn about Omnipose, read the <a href="http://biorxiv.org/content/early/2021/11/04/2021.11.03.467199" rel="nofollow">paper</a>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">UPDATE v0.6 (Dec 2020)</h3><a id="user-content-update-v06-dec-2020" class="anchor" aria-label="Permalink: UPDATE v0.6 (Dec 2020)" href="#update-v06-dec-2020"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Pytorch is now the default deep neural network software for cellpose. Mxnet will still be supported. To install mxnet (CPU), run <code>pip install mxnet-mkl</code>. To use mxnet in a notebook, declare <code>torch=False</code> when creating a model, e.g. <code>model = models.Cellpose(torch=False)</code>. To use mxnet on the command line, add the flag <code>--mxnet</code>, e.g. <code>python -m cellpose --dir ~/images/ --mxnet</code>. The pytorch implementation is 20% faster than the mxnet implementation when running on the GPU and 20% slower when running on the CPU.</p>
<p dir="auto">Dynamics are computed using bilinear interpolation by default instead of nearest neighbor interpolation. Set <code>interp=False</code> in <code>model.eval</code> to turn off. The bilinear interpolation will be slightly slower on the CPU, but it is faster than nearest neighbor if using torch and the GPU is enabled.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Timing (v0.6)</h3><a id="user-content-timing-v06" class="anchor" aria-label="Permalink: Timing (v0.6)" href="#timing-v06"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can check if cellpose is running the MKL version (if you are using the CPU not the GPU) by adding the flag <code>--check_mkl</code>. If you are not using MKL cellpose will be much slower. Here are Cellpose run times divided into the time it takes to run the deep neural network (DNN) and the time for postprocessing (gradient tracking, segmentation, quality control etc.). The DNN runtime is shown using either a GPU (Nvidia GTX 1080Ti) or a CPU (Intel 10-core 7900X), with or without network ensembling (4net vs 1net). The postprocessing runtime is similar regardless of ensembling or CPU/GPU version. Runtime is shown for different image sizes, all with a cell diameter of 30 pixels (the average from our training set).</p>
<table>
<thead>
<tr>
<th></th>
<th>256 pix</th>
<th>512 pix</th>
<th>1024 pix</th>
</tr>
</thead>
<tbody>
<tr>
<td>DNN (1net, GPU)</td>
<td>0.054 s</td>
<td>0.12 s</td>
<td>0.31 s</td>
</tr>
<tr>
<td>DNN (1net, CPU)</td>
<td>0.30 s</td>
<td>0.65 s</td>
<td>2.4 s</td>
</tr>
<tr>
<td>DNN (4net, GPU)</td>
<td>0.23 s</td>
<td>0.41 s</td>
<td>1.3 s</td>
</tr>
<tr>
<td>DNN (4net, CPU)</td>
<td>1.3 s</td>
<td>2.5 s</td>
<td>9.1 s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Postprocessing (CPU)</td>
<td>0.32 s</td>
<td>1.2 s</td>
<td>6.1 s</td>
</tr>
</tbody>
</table>
</article></div></div> <!-- If no custom description in the Markdown file, the project's GitHub README file is used--> </section> </div> </div> </div>  <footer class="relative border-t border-gray-200 dark:border-slate-800 not-prose"> <div class="dark:bg-dark absolute inset-0 pointer-events-none" aria-hidden="true"></div> <div class="relative l mx-auto px-4 sm:px-6 dark:text-slate-300"> <div class="flex justify-between items-start my-6"> <div> <div class="mb-2"> <a class="inline-block font-bold text-xl" href="/pr-preview/pr-2/tmp/pr-preview/pr-2">ðŸ”¬ Janelia Software
</a> </div> <div class="flex flex-col gap-2 text-sm text-muted"> <a class="text-muted hover:text-gray-700 dark:text-gray-400 hover:underline transition duration-150 ease-in-out mr-2 rtl:mr-0 rtl:ml-2" href="https://www.hhmi.org/privacy-policy" target="_blank">Privacy Policy & Cookie Notice</a><a class="text-muted hover:text-gray-700 dark:text-gray-400 hover:underline transition duration-150 ease-in-out mr-2 rtl:mr-0 rtl:ml-2" href="https://github.com/JaneliaSciComp/ossi-website" target="_blank">This site is open source! Contribute on GitHub.</a> </div> </div> <div class="w-24 min-[400px]:w-32 md:w-44"> <a href="https://www.janelia.org/" target="_blank"> <img src="/pr-preview/pr-2/_astro/HHMI_Janelia_Logo-Black.YPERATnQ.png" alt="Logo for the Howard Hughes Medical Institute Janelia Research Campus" class="block dark:hidden"> <img src="/pr-preview/pr-2/_astro/HHMI_Janelia_Logo-White.EXklwjQ9.png" alt="Logo for the Howard Hughes Medical Institute Janelia Research Campus" class="hidden dark:block"> </a> </div> </div> <div>  </div> <div class="md:flex md:items-center md:justify-between pb-6"> <ul class="flex mb-4 md:order-1 md:ml-4 md:mb-0"> <li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="Email" href="#"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:mail">  <symbol id="ai:tabler:mail"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="m3 7l9 6l9-6"/></g></symbol><use xlink:href="#ai:tabler:mail"></use>  </svg>  </a> </li><li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="X" href="#"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:brand-x">  <symbol id="ai:tabler:brand-x"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 4l11.733 16H20L8.267 4zm0 16l6.768-6.768m2.46-2.46L20 4"/></symbol><use xlink:href="#ai:tabler:brand-x"></use>  </svg>  </a> </li><li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="Github" href="https://github.com/JaneliaSciComp"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:brand-github">  <symbol id="ai:tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2a4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6c-.6.6-.6 1.2-.5 2V21"/></symbol><use xlink:href="#ai:tabler:brand-github"></use>  </svg>  </a> </li> </ul> <div class="text-sm mr-4 dark:text-slate-400"> Â© 2024 Howard Hughes Medical Institute </div> </div> </div> </footer>  </body> </html>