<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/pr-preview/pr-2/favicon.ico"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.6.2"><title>OSSI@Janelia</title><style is:global>
  :root {
    --font-sans: "Inter Variable";
    --font-serif: var(--font-sans);
    --font-heading: var(--font-sans);

    /* --color-primary: rgb(30 64 175); */
    --color-primary: rgb(5 141 150);
    /* --color-secondary: rgb(30 58 138); */
    --color-secondary: rgb(0 164 80);
    /* --color-accent: rgb(109 40 217); */
    --color-accent: rgb(63 194 205);

    --color-text-heading: rgb(0 0 0);
    --color-text-default: rgb(16 16 16);
    --color-text-muted: rgb(16 16 16 / 66%);

    --color-bg-page: rgb(255 255 255);
    --color-bg-page-dark: rgb(3 6 32);

    /* default color - this is dynamically updated by handleTagSelection */
    --color-bg-selected-tag: var(--color-primary);
  }

  .dark {
    --font-sans: "Inter Variable";
    --font-serif: var(--font-sans);
    --font-heading: var(--font-sans);

    /* --color-primary: rgb(30 64 175); */
    --color-primary: rgb(5 141 150);
    /* --color-secondary: rgb(30 58 138); */
    --color-secondary: rgb(0 164 80);
    /* --color-accent: rgb(109 40 217); */
    --color-accent: rgb(63 194 205);

    --color-text-heading: rgb(0 0 0);
    --color-text-default: rgb(229 236 246);
    --color-text-muted: rgb(229 236 246 / 66%);

    --color-bg-page: var(--color-bg-page-dark);

    /* default color - this is dynamically updated by handleTagSelection */
    --color-bg-selected-tag: var(--color-primary);
  }
</style><link rel="stylesheet" href="/pr-preview/pr-2/_astro/_slug_.DPN5iaBe.css">
<style>.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube:hover>.lty-playbtn,lite-youtube .lty-playbtn:focus{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo>.ltv-playbtn{content:"";position:absolute;inset:0;width:100%;background:transparent;outline:0;border:0;cursor:pointer}lite-vimeo>.ltv-playbtn:before{width:6.5em;height:4em;background:#172322bf;opacity:.8;border-radius:.25rem;transition:all .2s cubic-bezier(0,0,.2,1)}lite-vimeo>.ltv-playbtn:focus:before{outline:auto}lite-vimeo:hover>.ltv-playbtn:before{background-color:#00adef;background-color:var(--ltv-color, #00adef);opacity:1}lite-vimeo>.ltv-playbtn:after{border-style:solid;border-width:1em 0 1em 1.7em;border-color:transparent transparent transparent #fff}lite-vimeo>.ltv-playbtn:before,lite-vimeo>.ltv-playbtn:after{content:"";position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{cursor:unset;opacity:0;pointer-events:none}
</style><script type="module" src="/pr-preview/pr-2/_astro/hoisted.XVAdaamv.js"></script></head> <body class="text-default bg-page"> <header class="scroll fixed top-0 z-40 flex-none mx-auto w-full border-b border-gray-50/0 transition-[opacity] ease-in-out" data-sticky-header="true" id="header"> <div class="absolute inset-0 bg-white dark:bg-dark"></div> <div class="relative text-default p-3 md:px-6 w-full flex justify-between"> <a class="flex items-center" href="/pr-preview/pr-2/tmp/pr-preview/pr-2"> <span class="self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl font-bold text-gray-900 whitespace-nowrap dark:text-white"></span> <span class="min-[600px]:hidden self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl lg:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white"> ðŸ”¬   Janelia OSSI </span> <span class="hidden min-[600px]:block self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl lg:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white"> ðŸ”¬   Janelia Open Source Science Initiative </span> </a> <div class="flex"> <div class="flex items-center lg:hidden order-2"> <button class="flex flex-col h-12 w-12 rounded justify-center items-center cursor-pointer group" aria-label="Toggle Menu" data-aw-toggle-menu> <span class="sr-only">Toggle Menu</span>  <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:rotate-45 group-[.expanded]:translate-y-2.5"></span> <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:opacity-0"></span> <span aria-hidden="true" class="h-0.5 w-6 my-1 rounded-full bg-black dark:bg-white transition ease transform duration-200 opacity-80 group-[.expanded]:-rotate-45 group-[.expanded]:-translate-y-2.5"></span>  </button> </div> <nav class="items-center w-full lg:w-auto hidden lg:flex text-default overflow-y-auto overflow-x-hidden lg:overflow-y-visible lg:overflow-x-auto lg:mx-5" aria-label="Main navigation"> <ul class="flex flex-col md:flex-row md:self-center w-full md:w-auto text-xl md:text-[0.9375rem] tracking-[0.01rem] font-medium"> <li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2"> Home </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/projects"> Projects </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/ecosystems"> Ecosystems </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/ossi"> OSSI </a> </li><li class=""> <a class="hover:text-link dark:hover:text-white px-4 py-3 flex items-centers" href="/pr-preview/pr-2/tmp/pr-preview/pr-2/blog"> Blog </a> </li> </ul> </nav> <div id="toggle-theme" class="self-center flex items-center w-auto static justify-end"> <button type="button" class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-6 h-6" data-icon="tabler:sun">  <symbol id="ai:tabler:sun"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12a4 4 0 1 0 8 0a4 4 0 1 0-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7l-.7.7m0 11.4l.7.7m-12.1-.7l-.7.7"/></symbol><use xlink:href="#ai:tabler:sun"></use>  </svg> </button> </div> </div> </div> </header>  <div class="pt-24 pb-8 max-w-7xl mx-auto"> <a class="self-start mx-6 border-b-2 text-sm transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="/pr-preview/pr-2/projects">
Projects
</a> <div class="flex flex-col lg:grid grid-cols-6"> <section class="row-start-1 row-span-1 col-span-4 pt-6 pb-8"> <h1 class="mx-6 text-4xl md:text-5xl font-bold leading-tighter tracking-tighter font-heading"> Suite2p </h1> <p class="mx-6 mt-6 md:mt-10 text-xl md:text-2xl text-muted dark:text-slate-400"> Pipeline for processing two-photon calcium imaging data. </p> </section> <div class="px-6 py-12 lg:p-0 lg:pl-12 row-start-1 row-span-2 col-start-5 col-span-2 bg-primary lg:bg-page dark:bg-slate-900"> <div class="p-6 rounded-md shadow-sm lg:shadow-none bg-page"> <h2 class="text-xl font-bold mb-6">Quick links</h2> <div class="flex flex-row flex-wrap gap-6 mx-auto"> <div class="flex flex-col gap-1 mr-8"> <h3 class="font-bold mb-1">Get started</h3> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://github.com/MouseLand/suite2p"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <symbol id="ai:tabler:square-chevron-right"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m11 9l3 3l-3 3"/><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></symbol><use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
Source code
</a> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://suite2p.readthedocs.io/en/latest/"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
Documentation
</a> <a class="self-start flex items-center gap-1 transition ease-in duration-200 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-800 cursor-pointer" href="https://github.com/MouseLand/suite2p?tab=readme-ov-file#local-installation"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5  inline-block" data-icon="tabler:square-chevron-right">  <use xlink:href="#ai:tabler:square-chevron-right"></use>  </svg>
How to install
</a> </div> <div class="flex flex-col gap-1 mr-8 md:mr-12"> <h3 class="font-bold mb-1">Get help</h3> <a class="self-start btn rounded-md p-2 font-normal" href="https://github.com/MouseLand/suite2p">
Open an issue on GitHub
</a> <a class="self-start btn rounded-md p-2 font-normal" href="placeholder@gmail.com">
Reach out with a question
</a> </div> <div class="flex flex-col gap-1"> <h3 class="font-bold mb-1">Cite this software</h3> <a class=" self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://doi.org/10.1101/061507">Pachitariu, M., Stringer, C., SchrÃ¶der, S., Dipoppa, M., Rossi, L. F., Carandini, M., &amp; Harris, K. D. (2016). Suite2p: beyond 10,000 neurons with standard two-photon microscopy. BioRxiv, 061507.</a> </div> </div> </div> </div> <div class="col-start-1 col-span-4"> <div class="flex flex-col pb-12 lg:pb-0 lg:ml-6 bg-primary lg:bg-page items-center">   </div> <div class="mx-6 my-6 flex flex-col gap-1"> <div class="flex flex-wrap mb-2 gap-3"> <p class="font-semibold">Development Team:</p> <a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://www.janelia.org/lab/pachitariu-lab"> Pachitariu Lab </a><a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://www.janelia.org/lab/stringer-lab"> Stringer Lab </a> </div> <div class="flex flex-wrap mb-2 gap-3"> <p class="font-semibold">License:</p> GPL-3.0 </div>  <div class="flex flex-wrap mb-2 gap-3"><h3 class="font-bold mb-1">External links:</h3><div class="mb-1"><a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://drive.google.com/file/d/1-KLHwZ3g6A1F8AWYge7llfEHViaHWsoc/view"> OSSI funding proposal </a></div><div class="mb-1"><a class="self-start border-b-2 transition ease-in duration-200 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer" href="https://www.suite2p.org/"> suite2p homepage </a></div></div> <div class="pt-6 flex flex-wrap gap-2"> <span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-primary)"> Pachitariu Lab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-primary)"> Stringer Lab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ab3f32"> Python </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#8b8883"> GPL-3.0 </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#5084ac"> Package </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Calcium imaging </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Confocal light microscopy (LM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Electron microscopy (EM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#ba5915"> Expansion microscopy (ExM) </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#7b0249"> Google Colab </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:#7b0249"> Local installation </span><span class="bg-primary text-white px-2 py-1 rounded-md text-sm" style="background-color:var(--color-accent)"> Napari </span> </div> </div> <section class="col-span-4 row-start-3 ml-6 prose prose-lg lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg"> <div class="my-6 md:mt-10"> <div class="border-t dark:border-slate-700"></div> </div> <!-- This is where any custom description of the project gets rendered --> <div><div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">suite2p <a target="_blank" rel="noopener noreferrer" href="suite2p/logo/logo_unshaded.png"><img src="suite2p/logo/logo_unshaded.png" width="250" title="sweet two pea" alt="sweet two pea" align="right" style="max-width: 100%;"></a></h1><a id="user-content-suite2p-" class="anchor" aria-label="Permalink: suite2p " href="#suite2p-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://suite2p.readthedocs.io/en/latest/?badge=latest" rel="nofollow"><img src="https://camo.githubusercontent.com/23dd3a1bdc57777f29798daa050f1078c5b5b187430302ebd7a56a295cbd7c7a/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f737569746532702f62616467652f3f76657273696f6e3d6c6174657374" alt="Documentation Status" data-canonical-src="https://readthedocs.org/projects/suite2p/badge/?version=latest" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/mouseland/suite2p/actions/workflows/test_and_deploy.yml/badge.svg"><img src="https://github.com/mouseland/suite2p/actions/workflows/test_and_deploy.yml/badge.svg" alt="tests" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/MouseLand/suite2p" rel="nofollow"><img src="https://camo.githubusercontent.com/29cbddd3c45954e300309e9c025c5ba8f63d1b5faca36b4831e140054ced21f7/68747470733a2f2f636f6465636f762e696f2f67682f4d6f7573654c616e642f737569746532702f6272616e63682f6d61696e2f67726170682f62616467652e7376673f746f6b656e3d4f4a4543336d74793835" alt="codecov" data-canonical-src="https://codecov.io/gh/MouseLand/suite2p/branch/main/graph/badge.svg?token=OJEC3mty85" style="max-width: 100%;"></a>
<a href="https://badge.fury.io/py/suite2p" rel="nofollow"><img src="https://camo.githubusercontent.com/9a7a6abdf2dee82da80313dacbd426226c99370d6fc4d684558e981efc1dd0b1/68747470733a2f2f62616467652e667572792e696f2f70792f737569746532702e737667" alt="PyPI version" data-canonical-src="https://badge.fury.io/py/suite2p.svg" style="max-width: 100%;"></a>
<a href="https://pepy.tech/project/suite2p" rel="nofollow"><img src="https://camo.githubusercontent.com/44779c66d3b636144b41bc24707e7d40a79ed44600b36efc3ff8d84e86ef9f6c/68747470733a2f2f7374617469632e706570792e746563682f62616467652f73756974653270" alt="Downloads" data-canonical-src="https://static.pepy.tech/badge/suite2p" style="max-width: 100%;"></a>
<a href="https://pepy.tech/project/suite2p" rel="nofollow"><img src="https://camo.githubusercontent.com/983b1a7fc10bb5ff45b8ff52b1a680b49da4cc479574033262561510da0fb2e0/68747470733a2f2f7374617469632e706570792e746563682f62616467652f737569746532702f6d6f6e7468" alt="Downloads" data-canonical-src="https://static.pepy.tech/badge/suite2p/month" style="max-width: 100%;"></a>
<a href="https://pypistats.org/packages/suite2p" rel="nofollow"><img src="https://camo.githubusercontent.com/e1b850b9701abce13e925c16883b887c40727052f85b02c32782a4b07acf0a02/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f73756974653270" alt="Python version" data-canonical-src="https://img.shields.io/pypi/pyversions/suite2p" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/suite2p/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/3f6cc27e7b9df512f99d816a424a657761cc05e9a3193034d1102c9a52236794/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4d6f7573654c616e642f73756974653270" alt="Licence: GPL v3" data-canonical-src="https://img.shields.io/github/license/MouseLand/suite2p" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/suite2p/graphs/contributors"><img src="https://camo.githubusercontent.com/94b222a73318cbbcf88aa2ad91f058bf090c5899c3ca6f8716c65b1f8802aa12/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732d616e6f6e2f4d6f7573654c616e642f73756974653270" alt="Contributors" data-canonical-src="https://img.shields.io/github/contributors-anon/MouseLand/suite2p" style="max-width: 100%;"></a>
<a href="https://www.suite2p.org" rel="nofollow"><img src="https://camo.githubusercontent.com/f99c1c6b9d12b9d0445a14d9b5b9fbae2b2aa47a389e449a50fc2af9584c7cbc/68747470733a2f2f696d672e736869656c64732e696f2f776562736974653f75726c3d68747470732533412532462532467777772e737569746532702e6f7267" alt="website" data-canonical-src="https://img.shields.io/website?url=https%3A%2F%2Fwww.suite2p.org" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/suite2p/"><img src="https://camo.githubusercontent.com/558bf3b2410fe4f27a2bac6964b3716070382484be34b2165a5b9e6aef87b76a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7265706f2d73697a652f4d6f7573654c616e642f73756974653270" alt="repo size" data-canonical-src="https://img.shields.io/github/repo-size/MouseLand/suite2p" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/suite2p/"><img src="https://camo.githubusercontent.com/a7db1035e72a30dc6b3332f067420c199e60483d26fbcb4c84c4dc28d23ca2a4/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f4d6f7573654c616e642f737569746532703f7374796c653d736f6369616c" alt="GitHub stars" data-canonical-src="https://img.shields.io/github/stars/MouseLand/suite2p?style=social" style="max-width: 100%;"></a>
<a href="https://github.com/MouseLand/suite2p/"><img src="https://camo.githubusercontent.com/5138a6083b6d4de06be3fb09a2066c4ce86733b81c5888100460a86064980570/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f4d6f7573654c616e642f737569746532703f7374796c653d736f6369616c" alt="GitHub forks" data-canonical-src="https://img.shields.io/github/forks/MouseLand/suite2p?style=social" style="max-width: 100%;"></a></p>
<p dir="auto">Pipeline for processing two-photon calcium imaging data.
Copyright (C) 2018  Howard Hughes Medical Institute Janelia Research Campus</p>
<p dir="auto">suite2p includes the following modules:</p>
<ul dir="auto">
<li>Registration</li>
<li>Cell detection</li>
<li>Spike detection</li>
<li>Visualization GUI</li>
</ul>
<p dir="auto">This code was written by Carsen Stringer and Marius Pachitariu.
For support, please open an <a href="https://github.com/MouseLand/suite2p/issues">issue</a>.</p>
<p dir="auto">The reference paper is <a href="https://www.biorxiv.org/content/early/2017/07/20/061507" rel="nofollow">here</a>. The deconvolution algorithm is based on <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005423" rel="nofollow">this paper</a>, with settings based on <a href="http://www.jneurosci.org/content/early/2018/08/06/JNEUROSCI.3339-17.2018" rel="nofollow">this paper</a>.</p>
<p dir="auto">You can now run suite2p in google colab, no need to locally install (although we recommend doing so eventually): <a href="https://colab.research.google.com/github/MouseLand/suite2p/blob/main/jupyter/run_suite2p_colab_2023.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width: 100%;"></a>. Note you do not have access to the GUI via google colab, but you can download the processed files and view them locally in the GUI.</p>
<p dir="auto">See this <strong>twitter <a href="https://twitter.com/marius10p/status/1032804776633880583" rel="nofollow">thread</a></strong> for GUI demonstrations.</p>
<p dir="auto">The matlab version is available <a href="https://github.com/cortex-lab/Suite2P">here</a>. Note that the algorithm is older and will not work as well on non-circular ROIs.</p>
<p dir="auto">Lectures on how suite2p works are available <a href="https://youtu.be/HpL5XNtC5wU?list=PLutb8FMs2QdNqL4h4NrNhSHgLGk4sXarb" rel="nofollow">here</a>.</p>
<p dir="auto"><strong>Note on pull requests</strong>: we accept very few pull requests due to the maintenance efforts required to support new code, and we do not accept pull requests from automated code checkers. If you wrote code that interfaces/changes suite2p behavior, a common approach would be to keep that in a fork and pull periodically from the main branch to make sure you have the latest updates.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">CITATION</h3><a id="user-content-citation" class="anchor" aria-label="Permalink: CITATION" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you use this package in your research, please cite the <a href="https://www.biorxiv.org/content/early/2017/07/20/061507" rel="nofollow">paper</a>:</p>
<p dir="auto">Pachitariu, M., Stringer, C., SchrÃ¶der, S., Dipoppa, M., Rossi, L. F., Carandini, M., &amp; Harris, K. D. (2016). Suite2p: beyond 10,000 neurons with standard two-photon microscopy. BioRxiv, 061507.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Read the Documentation at <a href="https://suite2p.readthedocs.io/" rel="nofollow">https://suite2p.readthedocs.io/</a></h2><a id="user-content-read-the-documentation-at-httpssuite2preadthedocsio" class="anchor" aria-label="Permalink: Read the Documentation at https://suite2p.readthedocs.io/" href="#read-the-documentation-at-httpssuite2preadthedocsio"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Local installation</h2><a id="user-content-local-installation" class="anchor" aria-label="Permalink: Local installation" href="#local-installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Install an <a href="https://www.anaconda.com/download/" rel="nofollow">Anaconda</a> distribution of Python -- Choose <strong>Python 3.8</strong> and your operating system. Note you might need to use an anaconda prompt if you did not add anaconda to the path.</li>
<li>Open an anaconda prompt / command prompt with <code>conda</code> for <strong>python 3</strong> in the path</li>
<li>Create a new environment with <code>conda create --name suite2p python=3.9</code>.</li>
<li>To activate this new environment, run <code>conda activate suite2p</code></li>
<li>(Option 1) You can install the minimal version of suite2p, run <code>python -m pip install suite2p</code>.</li>
<li>(Option 2) You can install the GUI version with <code>python -m pip install suite2p[gui]</code>. If you're on a zsh server, you may need to use <code>' '</code> around the suite2p[gui] call: <code>python -m pip install 'suite2p[gui]'</code>. This also installs the NWB dependencies.</li>
<li>Now run <code>python -m suite2p</code> and you're all set.</li>
<li>Running the command <code>suite2p --version</code> in the terminal will print the install version of suite2p.</li>
</ol>
<p dir="auto">For additional dependencies, like h5py, NWB, Scanbox, and server job support, use the command <code>python -m pip install suite2p[io]</code>.</p>
<p dir="auto">If you have an older <code>suite2p</code> environment you can remove it with <code>conda env remove -n suite2p</code> before creating a new one.</p>
<p dir="auto">Note you will always have to run <strong>conda activate suite2p</strong> before you run suite2p. Conda ensures mkl_fft and numba run correctly and quickly on your machine. If you want to run jupyter notebooks in this environment, then also <code>conda install jupyter</code>.</p>
<p dir="auto">To <strong>upgrade</strong> the suite2p (package <a href="https://pypi.org/project/suite2p/" rel="nofollow">here</a>), run the following in the environment:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install --upgrade suite2p"><pre class="notranslate"><code>pip install --upgrade suite2p
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Dependencies</h3><a id="user-content-dependencies" class="anchor" aria-label="Permalink: Dependencies" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This package relies on the awesomeness of <a href="http://pyqtgraph.org/" rel="nofollow">pyqtgraph</a>, <a href="http://pyqt.sourceforge.net/Docs/PyQt6/" rel="nofollow">PyQt6</a>, <a href="http://pytorch.org" rel="nofollow">torch</a>, <a href="http://www.numpy.org/" rel="nofollow">numpy</a>, <a href="http://numba.pydata.org/numba-doc/latest/user/5minguide.html" rel="nofollow">numba</a>, <a href="https://vidriotech.gitlab.io/scanimagetiffreader-python/" rel="nofollow">scanimage-tiff-reader</a>, <a href="https://www.scipy.org/" rel="nofollow">scipy</a>, <a href="http://scikit-learn.org/stable/" rel="nofollow">scikit-learn</a>, <a href="https://pypi.org/project/tifffile/" rel="nofollow">tifffile</a>, <a href="https://natsort.readthedocs.io/en/master/" rel="nofollow">natsort</a>, and our neural visualization tool <a href="https://github.com/MouseLand/rastermap">rastermap</a>. You can pip install or conda install all of these packages. If having issues with PyQt6, then try to install within it conda install pyqt. On Ubuntu you may need to <code>sudo apt-get install libegl1</code> to support PyQt6. Alternatively, you can use PyQt5 by running <code>pip uninstall PyQt6</code> and <code>pip install PyQt5</code>. If you already have a PyQt version installed, suite2p will not install a new one.</p>
<p dir="auto">The software has been heavily tested on Windows 10 and Ubuntu 18.04, and less well tested on Mac OS. Please post an <a href="https://github.com/MouseLand/suite2p/issues">issue</a> if you have installation problems.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Installing the latest github version of the code</h3><a id="user-content-installing-the-latest-github-version-of-the-code" class="anchor" aria-label="Permalink: Installing the latest github version of the code" href="#installing-the-latest-github-version-of-the-code"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The simplest way is</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install git+https://github.com/MouseLand/suite2p.git"><pre class="notranslate"><code>pip install git+https://github.com/MouseLand/suite2p.git
</code></pre></div>
<p dir="auto">If you want to download and edit the code, and use that version,</p>
<ol dir="auto">
<li>Clone the repository with git and <code>cd suite2p</code></li>
<li>Run <code>pip install -e .</code> in that folder</li>
</ol>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Installation for developers</h3><a id="user-content-installation-for-developers" class="anchor" aria-label="Permalink: Installation for developers" href="#installation-for-developers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Clone the repository and <code>cd suite2p</code> in an anaconda prompt / command prompt with <code>conda</code> for <strong>python 3</strong> in the path</li>
<li>Run <code>conda create --name suite2p python=3.9</code></li>
<li>To activate this new environment, run <code>conda activate suite2p</code> (you will have to activate every time you want to run suite2p)</li>
<li>Install the local version of suite2p into this environment in develop mode with the command <code>pip install -e .[all]</code></li>
<li>Run tests: <code>python setup.py test</code> or <code>pytest -vs</code>, this will automatically download the test data into your <code>suite2p</code> folder. The test data is split into two parts: test inputs and expected test outputs which will be downloaded in <code>data/test_inputs</code> and <code>data/test_outputs</code> respectively. The .zip files for these two parts can be downloaded from these links: <a href="https://www.suite2p.org/static/test_data/test_inputs.zip" rel="nofollow">test_inputs</a> and <a href="https://www.suite2p.org/static/test_data/test_outputs.zip" rel="nofollow">test_outputs</a>.</li>
</ol>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Examples</h2><a id="user-content-examples" class="anchor" aria-label="Permalink: Examples" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">An example dataset is provided <a href="https://drive.google.com/drive/folders/0B649boZqpYG1amlyX015SG12VU0?resourcekey=0-v-pxg8FwtFV7lqynlsuc9Q&amp;usp=sharing" rel="nofollow">here</a>. It's a single-plane, single-channel recording.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Getting started</h2><a id="user-content-getting-started" class="anchor" aria-label="Permalink: Getting started" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The quickest way to start is to open the GUI from a command line terminal. You might need to open an anaconda prompt if you did not add anaconda to the path. Make sure to run this from a directory in which you have <strong>WRITE</strong> access (suite2p saves a couple temporary files in your current directory):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="suite2p"><pre class="notranslate"><code>suite2p
</code></pre></div>
<p dir="auto">Then:</p>
<ol dir="auto">
<li>File -&gt; Run suite2p (or ctrl+r)</li>
<li>Setup a configuration
<ul dir="auto">
<li>-&gt; Add directory which contains tiffs to data_path (can be multiple folders, but add them one at a time)</li>
<li>-&gt; OR choose an h5 file which has a key with the data, data shape should be time x pixels x pixels (you can type in the key name for the data after you choose the file)</li>
<li>-&gt; Add save_path ((otherwise the data directory is used as save path))</li>
<li>-&gt; Add fast_disk (this is where the binary file of registered data will be created, choose an SSD for this path) ((otherwise the save path is used as the fast disk path))</li>
<li>Set some parameters (see full list below). At the minimum:
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content=" nplanes, nchannels, tau, fs"><pre class="notranslate"><code> nplanes, nchannels, tau, fs
</code></pre></div>
</li>
</ul>
</li>
<li>Press run and wait. Messages should start appearing in the embedded command line.</li>
<li>When the run is finished, the results will open in the GUI window and there you can visualize and refine the results (see below).</li>
</ol>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Using the GUI</h3><a id="user-content-using-the-gui" class="anchor" aria-label="Permalink: Using the GUI" href="#using-the-gui"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3fb6b67ae5c58df5e3c18a6ecf52c82c225e196768084da9b9cd9b8b0770fcac/68747470733a2f2f7777772e737569746532702e6f72672f7374617469632f696d616765732f6d756c746973656c6563742e676966"><img src="https://camo.githubusercontent.com/3fb6b67ae5c58df5e3c18a6ecf52c82c225e196768084da9b9cd9b8b0770fcac/68747470733a2f2f7777772e737569746532702e6f72672f7374617469632f696d616765732f6d756c746973656c6563742e676966" width="800" alt="selecting multiple ROIs in suite2p with Ctrl" data-animated-image="" data-canonical-src="https://www.suite2p.org/static/images/multiselect.gif" style="max-width: 100%;"></a></p>
<p dir="auto">The suite2p output goes to a folder called "suite2p" inside your save_path, which by default is the same as the data_path. If you ran suite2p in the GUI, it loads the results automatically. Otherwise, you can load the results with File -&gt; Load results or by dragging and dropping the stat.npy file into the GUI.</p>
<p dir="auto">The GUI serves two main functions:</p>
<ol dir="auto">
<li>Checking the quality of the data and results.
<ul dir="auto">
<li>there are currently several views such as the enhanced mean image, the ROI masks, the correlation map, the correlation among cells, and the ROI+neuropil traces</li>
<li>by selecting multiple cells (with "Draw selection" or ctrl+left-click), you can view the activity of multiple ROIs simultaneously in the lower plot</li>
<li>there are also population-level visualizations, such as <a href="https://github.com/MouseLand/rastermap">rastermap</a></li>
</ul>
</li>
<li>Classify ROIs into cell / not cell (left and right views respectively)
<ul dir="auto">
<li>the default classifier included should work well in a variety of scenarios.</li>
<li>a user-classifier can be learnt from manual curation, thus adapting to the statistics of your own data.</li>
<li>the GUI automatically saves which ROIs are good in "iscell.npy". The second column contains the probability that the ROI is a cell based on the currently loaded classifier.</li>
</ul>
</li>
</ol>
<p dir="auto">Main GUI controls (works in all views):</p>
<ol dir="auto">
<li>Pan  = Left-Click  + drag</li>
<li>Zoom = (Scroll wheel) OR (Right-Click + drag)</li>
<li>Full view = Double left-click OR escape key</li>
<li>Swap cell = Right-click on the cell</li>
<li>Select multiple cells = (Ctrl + left-click) OR (SHIFT + left-click) AND/OR ("Draw selection" button)</li>
</ol>
<p dir="auto">You can add your manual curation to a pre-built classifier by clicking "Add current data to classifier". Or you can make a brand-new classifier from a list of "iscell.npy" files that you've manually curated. The default classifier in the GUI is initialized as the suite2p classifier, but you can overwrite it by adding to it, or loading a different classifier and saving it as the default. The default classifier is used in the pipeline to produce the initial "iscell.npy" file.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Other ways to call Suite2p</h2><a id="user-content-other-ways-to-call-suite2p" class="anchor" aria-label="Permalink: Other ways to call Suite2p" href="#other-ways-to-call-suite2p"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>From the command line:</li>
</ol>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="suite2p --ops &lt;path to ops.npy&gt; --db &lt;path to db.npy&gt;"><pre class="notranslate"><code>suite2p --ops &lt;path to ops.npy&gt; --db &lt;path to db.npy&gt;
</code></pre></div>
<ol start="2" dir="auto">
<li>From Python/Jupyter</li>
</ol>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="from suite2p.run_s2p import run_s2p
ops1 = run_s2p(ops, db)"><pre><span class="pl-k">from</span> <span class="pl-s1">suite2p</span>.<span class="pl-s1">run_s2p</span> <span class="pl-k">import</span> <span class="pl-s1">run_s2p</span>
<span class="pl-s1">ops1</span> <span class="pl-c1">=</span> <span class="pl-en">run_s2p</span>(<span class="pl-s1">ops</span>, <span class="pl-s1">db</span>)</pre></div>
<p dir="auto">See our example jupyter notebook <a href="https://github.com/MouseLand/suite2p/blob/main/jupyter/run_suite2p_colab_2023.ipynb">here</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Outputs</h2><a id="user-content-outputs" class="anchor" aria-label="Permalink: Outputs" href="#outputs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="F.npy: array of fluorescence traces (ROIs by timepoints)
Fneu.npy: array of neuropil fluorescence traces (ROIs by timepoints)
spks.npy: array of deconvolved traces (ROIs by timepoints)
stat.npy: array of statistics computed for each cell (ROIs by 1)
ops.npy: options and intermediate outputs
iscell.npy: specifies whether an ROI is a cell, first column is 0/1, and second column is probability that the ROI is a cell based on the default classifier"><pre class="notranslate"><code>F.npy: array of fluorescence traces (ROIs by timepoints)
Fneu.npy: array of neuropil fluorescence traces (ROIs by timepoints)
spks.npy: array of deconvolved traces (ROIs by timepoints)
stat.npy: array of statistics computed for each cell (ROIs by 1)
ops.npy: options and intermediate outputs
iscell.npy: specifies whether an ROI is a cell, first column is 0/1, and second column is probability that the ROI is a cell based on the default classifier
</code></pre></div>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">License</h1><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Copyright (C) 2023 Howard Hughes Medical Institute Janelia Research Campus, the labs of Carsen Stringer and Marius Pachitariu.</p>
<p dir="auto"><strong>This code is licensed under GPL v3 (no redistribution without credit, and no redistribution in private repos, see the <a href="LICENSE">license</a> for more details).</strong></p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Logo</h3><a id="user-content-logo" class="anchor" aria-label="Permalink: Logo" href="#logo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Logo was designed by Shelby Stringer and <a href="http://chrisczaja.com/" rel="nofollow">Chris Czaja</a>.</p>
</article></div></div> <!-- If no custom description in the Markdown file, the project's GitHub README file is used--> </section> </div> </div> </div>  <footer class="relative border-t border-gray-200 dark:border-slate-800 not-prose"> <div class="dark:bg-dark absolute inset-0 pointer-events-none" aria-hidden="true"></div> <div class="relative l mx-auto px-4 sm:px-6 dark:text-slate-300"> <div class="flex justify-between items-start my-6"> <div> <div class="mb-2"> <a class="inline-block font-bold text-xl" href="/pr-preview/pr-2/tmp/pr-preview/pr-2">ðŸ”¬ Janelia Software
</a> </div> <div class="flex flex-col gap-2 text-sm text-muted"> <a class="text-muted hover:text-gray-700 dark:text-gray-400 hover:underline transition duration-150 ease-in-out mr-2 rtl:mr-0 rtl:ml-2" href="https://www.hhmi.org/privacy-policy" target="_blank">Privacy Policy & Cookie Notice</a><a class="text-muted hover:text-gray-700 dark:text-gray-400 hover:underline transition duration-150 ease-in-out mr-2 rtl:mr-0 rtl:ml-2" href="https://github.com/JaneliaSciComp/ossi-website" target="_blank">This site is open source! Contribute on GitHub.</a> </div> </div> <div class="w-24 min-[400px]:w-32 md:w-44"> <a href="https://www.janelia.org/" target="_blank"> <img src="/pr-preview/pr-2/_astro/HHMI_Janelia_Logo-Black.YPERATnQ.png" alt="Logo for the Howard Hughes Medical Institute Janelia Research Campus" class="block dark:hidden"> <img src="/pr-preview/pr-2/_astro/HHMI_Janelia_Logo-White.EXklwjQ9.png" alt="Logo for the Howard Hughes Medical Institute Janelia Research Campus" class="hidden dark:block"> </a> </div> </div> <div>  </div> <div class="md:flex md:items-center md:justify-between pb-6"> <ul class="flex mb-4 md:order-1 md:ml-4 md:mb-0"> <li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="Email" href="#"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:mail">  <symbol id="ai:tabler:mail"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="m3 7l9 6l9-6"/></g></symbol><use xlink:href="#ai:tabler:mail"></use>  </svg>  </a> </li><li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="X" href="#"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:brand-x">  <symbol id="ai:tabler:brand-x"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 4l11.733 16H20L8.267 4zm0 16l6.768-6.768m2.46-2.46L20 4"/></symbol><use xlink:href="#ai:tabler:brand-x"></use>  </svg>  </a> </li><li> <a class="text-muted dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm pr-5 md:pr-0 md:pl-5 inline-flex items-center" aria-label="Github" href="https://github.com/JaneliaSciComp"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="w-5 h-5" data-icon="tabler:brand-github">  <symbol id="ai:tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2a4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6c-.6.6-.6 1.2-.5 2V21"/></symbol><use xlink:href="#ai:tabler:brand-github"></use>  </svg>  </a> </li> </ul> <div class="text-sm mr-4 dark:text-slate-400"> Â© 2024 Howard Hughes Medical Institute </div> </div> </div> </footer>  </body> </html>